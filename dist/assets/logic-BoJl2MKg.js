class l{formatDate(e){if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return console.warn("Invalid date string:",e),"Invalid Date"}}formatDateTime(e){if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return console.warn("Invalid date string:",e),"Invalid Date"}}getReportTypeBadgeClass(e){return{program:"bg-primary",sector:"bg-info",public:"bg-secondary",agency:"bg-success"}[e]||"bg-secondary"}getFileTypeIcon(e){return{pdf:"fas fa-file-pdf",pptx:"fas fa-file-powerpoint",xlsx:"fas fa-file-excel",docx:"fas fa-file-word"}[e]||"fas fa-file"}validatePeriodSelection(e){return e&&!isNaN(parseInt(e))&&parseInt(e)>0}generateDownloadUrl(e){return e?`${window.APP_URL||""}/reports/${e}`:"#"}isRecentReport(e){if(!e)return!1;try{const t=new Date(e),r=new Date;return r.setDate(r.getDate()-7),t>=r}catch{return!1}}filterReportsByType(e,t){return!t||t==="all"?e:e.filter(r=>r.report_type===t)}sortReportsByDate(e,t="desc"){return[...e].sort((r,o)=>{const n=new Date(r.generated_at),a=new Date(o.generated_at);return t==="desc"?a-n:n-a})}getReportStatistics(e){const t={total:e.length,byType:{},recent:0,thisMonth:0},r=new Date,o=new Date(r.getFullYear(),r.getMonth(),1),n=new Date;return n.setDate(n.getDate()-7),e.forEach(a=>{const s=a.report_type||"unknown";t.byType[s]=(t.byType[s]||0)+1;const c=new Date(a.generated_at);c>=n&&t.recent++,c>=o&&t.thisMonth++}),t}truncateText(e,t=50){return!e||e.length<=t?e||"":e.substring(0,t-3)+"..."}}export{l as ReportsLogic};
